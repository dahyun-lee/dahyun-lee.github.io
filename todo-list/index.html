<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Todo List</title>
  <link rel="stylesheet" href="css/todo-list.css">
</head>
<body>
  <div class="app">
  <h1>Today My List </h1>
  <div class="todo">
    <label for="input-todo">To do</label>
    <input id="input-todo" type="text" required placeholder="ex) Dom을 제대로 깨우치기">
    <button title="리스트를 추가합니다" type="submit" class="add-btn"> + </button>
    </div>
  <ul class="todo-list">
    <!-- <li class="todo-list-item"><input class="check_box" type="checkbox">Dom을 제대로 깨우치기<button type="button">x</button></li> -->
  </ul>
  </div>


<!-- <script src="js/todo-list.js"></script> -->
<!-- <script src="js/todo-renewal.js"></script> -->

<script>
var input = document.querySelector('#input-todo');
// console.log(todo_input);
var button = document.querySelector('.add-btn');
// console.log(btn);
var todo_list = document.querySelector('.todo-list');

function checkcheck (){
  if(this.checked === true){
    this.parentNode.style.cssText = 'text-decoration:line-through; color:rgb(179, 182, 179)';
  }else{
    this.parentNode.style.cssText = '';
  }
}

function keyboardAction(evt){
  evt = evt || window.event; // IE 6,7,8 고려 코드
  if(evt.keyCode == 13 || evt.keyCode ==3 ){
    todoAdd();
  }
}

document.onkeypress = keyboardAction;
button.onclick = todoAdd;

 function todoAdd () {
  if(input.value === ''){
    window.alert('할일을 입력해주세요');
    return;
  }
  var item = document.createElement('li');
  item.setAttribute('class','todo-list-item');
  var item_text_node = document.createTextNode(input.value);
  var check_box = document.createElement('input');
  check_box.setAttribute('type','checkbox');
  //x버튼 제작
  var x_btn = document.createElement('button');
  var x_btn_content = document.createTextNode('x');
  check_box.onclick = checkcheck;


  x_btn.appendChild(x_btn_content);
  item.appendChild(check_box);
  item.appendChild(item_text_node);
  item.appendChild(x_btn);
  todo_list.appendChild(item);
  input.value='';
  input.focus();

  x_btn.onclick=function(){
    alert("삭제하시겠습니까?");
     todo_list.removeChild(item);
  }

};




</script>

</body>
</html>
